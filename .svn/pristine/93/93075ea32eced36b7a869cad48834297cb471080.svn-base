package kr.caincheon.church.service;

import java.util.List;
import java.util.Map;

import javax.annotation.Resource;

import org.apache.log4j.Logger;
import org.springframework.stereotype.Service;

import kr.caincheon.church.common.CommonDaoDTO;
import kr.caincheon.church.common.CommonService;
import kr.caincheon.church.common.UtilDate;
import kr.caincheon.church.dao.PopupDao;

@Service("popupService")
public class PopupServiceImpl extends CommonService
    implements PopupService
{

    private final Logger _logger = Logger.getLogger(getClass());
    
    @Resource(name="popupDao")
    private PopupDao popupDao;
    
    /*
     * 프론트 메인 : 팝업 조회
     * (non-Javadoc)
     * @see kr.caincheon.church.service.PopupService#mainPopupList(java.util.Map)
     */
    @Override
    public List mainPopupList(Map _params) {
    	
    	String now_date = UtilDate.getDateFormat("yyyy-MM-dd HH:mm:ss");// 형식) 2017-11-28 15:00:01
    	_params.put("open_yn", "Y");
    	_params.put("open_date", "now");
    	
    	CommonDaoDTO dto = new CommonDaoDTO();
    	popupDao.popupList(_params, dto);
    	return dto.daoList;
    }
    
    /*
     * 관리자: 팝업목록조회
     * (non-Javadoc)
     * @see kr.caincheon.church.service.PopupService#admPopupList(java.util.Map)
     */
    @Override
    public CommonDaoDTO admPopupList(Map _params)
    {
    	CommonDaoDTO dto = new CommonDaoDTO();
    	popupDao.popupList(_params, dto);
    	
        return dto;
    }

    /*
     * 관리자: 팝업보기
     * (non-Javadoc)
     * @see kr.caincheon.church.service.PopupService#admPopupContents(java.util.Map)
     */
    @Override
    public Map admPopupContents(Map _params)
    {
        return popupDao.popupContents(_params);
    }

    /*
     * 관리자: 팝업등록
     * (non-Javadoc)
     * @see kr.caincheon.church.service.PopupService#admPopupInsert(java.util.Map)
     */
    @Override
    public boolean admPopupInsert(Map _params)
    {
        return popupDao.popupInsert(_params);
    }

    /*
     * 관리자: 팝업수정
     * (non-Javadoc)
     * @see kr.caincheon.church.service.PopupService#admPopupModify(java.util.Map)
     */
    @Override
    public boolean admPopupModify(Map _params)
    {
        return popupDao.popupModify(_params);
    }

    /*
     * 관리자: 팝업삭제
     * (non-Javadoc)
     * @see kr.caincheon.church.service.PopupService#admPopupDelete(java.util.Map)
     */
    @Override
    public boolean admPopupDelete(Map _params)
    {
        return popupDao.popupDelete(_params);
    }

}
